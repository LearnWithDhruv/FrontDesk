{% extends "base.html" %}
{% block title %}Knowledge Base{% endblock %}

{% block content %}
<h2>Learned Answers</h2>
<div class="accordion mt-3" id="knowledgeBase">
    {% for answer in answers %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ loop.index }}">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#collapse{{ loop.index }}">
                {{ answer.question }}
            </button>
        </h2>
        <div id="collapse{{ loop.index }}" class="accordion-collapse collapse" 
             aria-labelledby="heading{{ loop.index }}" data-bs-parent="#knowledgeBase">
            <div class="accordion-body">
                {{ answer.answer }}
                <div class="text-muted small mt-2">
                    Learned on: {{ answer.learned_at.strftime('%Y-%m-%d %H:%M') }}
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="alert alert-info">No learned answers yet!</div>
    {% endfor %}
</div>
{% endblock %}